{"ast":null,"code":"var _jsxFileName = \"/home/iskender/Desktop/finolimp/client/src/context/authContext.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { createContext, useReducer } from 'react';\nimport { API } from '../consts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const authContext = /*#__PURE__*/createContext();\nconst INIT_STATE = {\n  users: []\n};\n\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INIT_STATE;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"LOGIN_USER\":\n      return { ...state,\n        users: action.payload.data\n      };\n\n    case \"REGISTER_USER\":\n      return { ...state,\n        user: action.payload.data\n      };\n\n    default:\n      break;\n  }\n};\n\nconst AuthContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(reducer, INIT_STATE);\n\n  const registration = async authData => {\n    const response = await axios.post(`${API}/registration`, authData);\n    dispatch({\n      type: \"REGISTER_USER\",\n      payload: response\n    });\n  };\n\n  const login = async authData => {\n    const response = await axios.post(`${API}/login`, authData);\n    dispatch({\n      type: \"LOGIN_USER\",\n      payload: response\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(authContext.Provider, {\n    value: {\n      users: state.users,\n      registration,\n      login\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AuthContextProvider, \"4m7vccIZ8Keq6ndhHxt+SMfGKKc=\");\n\n_c = AuthContextProvider;\nexport default AuthContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthContextProvider\");","map":{"version":3,"sources":["/home/iskender/Desktop/finolimp/client/src/context/authContext.jsx"],"names":["axios","React","createContext","useReducer","API","authContext","INIT_STATE","users","reducer","state","action","type","payload","data","user","AuthContextProvider","children","dispatch","registration","authData","response","post","login"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,QAAiD,OAAjD;AACA,SAASC,GAAT,QAAoB,WAApB;;AAEA,OAAO,MAAMC,WAAW,gBAAGH,aAAa,EAAjC;AAEP,MAAMI,UAAU,GAAE;AACdC,EAAAA,KAAK,EAAE;AADO,CAAlB;;AAIA,MAAMC,OAAO,GAAG,YAA6B;AAAA,MAA5BC,KAA4B,uEAAtBH,UAAsB;AAAA,MAAVI,MAAU;;AACzC,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,YAAL;AACI,aAAM,EACF,GAAGF,KADD;AAEFF,QAAAA,KAAK,EAAEG,MAAM,CAACE,OAAP,CAAeC;AAFpB,OAAN;;AAIJ,SAAK,eAAL;AACI,aAAM,EACF,GAAGJ,KADD;AAEFK,QAAAA,IAAI,EAAEJ,MAAM,CAACE,OAAP,CAAeC;AAFnB,OAAN;;AAKJ;AACI;AAbR;AAeH,CAhBD;;AAkBA,MAAME,mBAAmB,GAAG,QAAgB;AAAA;;AAAA,MAAf;AAACC,IAAAA;AAAD,GAAe;AAExC,QAAM,CAACP,KAAD,EAAQQ,QAAR,IAAoBd,UAAU,CAACK,OAAD,EAAUF,UAAV,CAApC;;AAEA,QAAMY,YAAY,GAAG,MAAMC,QAAN,IAAmB;AACpC,UAAMC,QAAQ,GAAG,MAAMpB,KAAK,CAACqB,IAAN,CAAY,GAAEjB,GAAI,eAAlB,EAAkCe,QAAlC,CAAvB;AACAF,IAAAA,QAAQ,CAAC;AACLN,MAAAA,IAAI,EAAE,eADD;AAELC,MAAAA,OAAO,EAAEQ;AAFJ,KAAD,CAAR;AAIH,GAND;;AAQA,QAAME,KAAK,GAAG,MAAMH,QAAN,IAAiB;AAC3B,UAAMC,QAAQ,GAAG,MAAMpB,KAAK,CAACqB,IAAN,CAAY,GAAEjB,GAAI,QAAlB,EAA2Be,QAA3B,CAAvB;AACAF,IAAAA,QAAQ,CAAC;AACLN,MAAAA,IAAI,EAAE,YADD;AAELC,MAAAA,OAAO,EAAEQ;AAFJ,KAAD,CAAR;AAIH,GAND;;AAQA,sBACI,QAAC,WAAD,CAAa,QAAb;AACI,IAAA,KAAK,EAAE;AACHb,MAAAA,KAAK,EAAEE,KAAK,CAACF,KADV;AAEHW,MAAAA,YAFG;AAGHI,MAAAA;AAHG,KADX;AAAA,cAOKN;AAPL;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH,CA/BD;;GAAMD,mB;;KAAAA,mB;AAiCN,eAAeA,mBAAf","sourcesContent":["import axios from 'axios';\nimport React, { createContext, useReducer } from 'react';\nimport { API } from '../consts';\n\nexport const authContext = createContext()\n\nconst INIT_STATE ={\n    users: []\n}\n\nconst reducer = (state=INIT_STATE, action) =>{\n    switch (action.type) {\n        case \"LOGIN_USER\":\n            return{\n                ...state,\n                users: action.payload.data\n            }\n        case \"REGISTER_USER\":\n            return{\n                ...state,\n                user: action.payload.data\n            }\n    \n        default:\n            break;\n    }\n}\n\nconst AuthContextProvider = ({children}) => {\n\n    const [state, dispatch] = useReducer(reducer, INIT_STATE)\n\n    const registration = async(authData) => {\n        const response = await axios.post(`${API}/registration`, authData)\n        dispatch({\n            type: \"REGISTER_USER\",\n            payload: response\n        })\n    }\n\n    const login = async(authData)=>{\n        const response = await axios.post(`${API}/login`, authData)\n        dispatch({\n            type: \"LOGIN_USER\",\n            payload: response\n        })\n    }\n\n    return (\n        <authContext.Provider\n            value={{\n                users: state.users,\n                registration,\n                login\n            }}\n        >\n            {children}\n        </authContext.Provider>\n    );\n};\n\nexport default AuthContextProvider;"]},"metadata":{},"sourceType":"module"}